#include "TREX.nddl"
#include "navigator.nddl"
#include "platform.nddl"

Navigator::At {

	contained_by(Reference.At arr);
		latitude == arr.latitude;
		longitude == arr.longitude;
		z == arr.z;
		speed == arr.speed;
	
	met_by(Going g);
		latitude == g.latitude;
		longitude == g.longitude;
		z == g.z;
		speed == g.speed;
		
	duration >= secs; 
}

Navigator::Going {


	contained_by(PlanControlState.Executing exec);
		exec.plan == "trex_plan";

	contained_by(Reference.Going g);
		latitude == g.latitude;
		longitude == g.longitude;
		z == g.z;
		speed == g.speed;	

	after(EstimatedState.Position origin);
		orig_lat == origin.latitude;
		orig_lon == origin.longitude;
		orig_z == origin.z;
		origin.start + 1 == start;
}
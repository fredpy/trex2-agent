<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>trex: TREX::agent::StepClock Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>TREX</b>::<b>agent</b>::<a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html">StepClock</a>
  </div>
</div>
<div class="contents">
<h1>TREX::agent::StepClock Class Reference<br/>
<small>
[<a class="el" href="../../d4/d1f/group__agent.html">TREX agent</a>]</small>
</h1><!-- doxytag: class="TREX::agent::StepClock" --><!-- doxytag: inherits="TREX::agent::Clock" -->
<p>Step based pseudo clock.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/db1/StepClock_8hh_source.html">trex/agent/StepClock.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TREX::agent::StepClock:</div>
<div class="dynsection">
<div class="center"><img src="../../d9/db2/classTREX_1_1agent_1_1StepClock__inherit__graph.png" border="0" usemap="#TREX_1_1agent_1_1StepClock_inherit__map" alt="Inheritance graph"/></div>
<map name="TREX_1_1agent_1_1StepClock_inherit__map" id="TREX_1_1agent_1_1StepClock_inherit__map">
<area shape="rect" id="node2" href="../../de/d50/classTREX_1_1agent_1_1Clock.html" title="TREX clock." alt="" coords="21,5,176,35"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TREX::agent::StepClock:</div>
<div class="dynsection">
<div class="center"><img src="../../d1/dbc/classTREX_1_1agent_1_1StepClock__coll__graph.png" border="0" usemap="#TREX_1_1agent_1_1StepClock_coll__map" alt="Collaboration graph"/></div>
<map name="TREX_1_1agent_1_1StepClock_coll__map" id="TREX_1_1agent_1_1StepClock_coll__map">
<area shape="rect" id="node2" href="../../de/d50/classTREX_1_1agent_1_1Clock.html" title="TREX clock." alt="" coords="731,5,885,35"/><area shape="rect" id="node4" href="../../d4/dad/classTREX_1_1utils_1_1XmlFactory_1_1declare.html" title="TREX::utils::XmlFactory\&lt; Product, Output, Arg \&gt;::declare\&lt; StepClock \&gt;" alt="" coords="553,59,1063,88"/><area shape="rect" id="node6" href="../../da/d57/classXmlFactory_1_1factory__type_1_1template_01declare.html" title="XmlFactory::factory_type::template declare\&lt;StepClock \&gt;" alt="" coords="5,59,424,88"/><area shape="rect" id="node8" href="../../d1/dd0/structTREX_1_1utils_1_1SingletonUse.html" title="TREX::utils::SingletonUse\&lt; TREX::utils::LogManager \&gt;" alt="" coords="613,112,1003,141"/><area shape="rect" id="node10" href="../../d2/d8b/classTREX_1_1utils_1_1LogManager.html" title="Centralized logging and files management." alt="" coords="121,112,308,141"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>

<p><a href="../../d5/d48/classTREX_1_1agent_1_1StepClock-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ce8a303b3ef4f50510ee14960a5c8fb"></a><!-- doxytag: member="TREX::agent::StepClock::xml_factory" ref="a1ce8a303b3ef4f50510ee14960a5c8fb" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="../../dc/d78/classTREX_1_1utils_1_1XmlFactory.html">TREX::utils::XmlFactory</a>&lt; <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html">Clock</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a1ce8a303b3ef4f50510ee14960a5c8fb">xml_factory</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">XML factory for clocks. <br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#af0bf500c9e5a32f2e8908b9a1ef1e06b">doStart</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the clock.  <a href="#af0bf500c9e5a32f2e8908b9a1ef1e06b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TREX::transaction::TICK</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#af6a0011a9afd69ce9a9939af6271033a">getNextTick</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get current tick date This method advances the number of steps used in current tick by 1. If this number is greater or equal to the maximum number of steps allowed for this tick, then the tick date is incremented  <a href="#af6a0011a9afd69ce9a9939af6271033a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TREX::transaction::TICK</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a2812fa34ba6dc2ef1f1a75a73b0dd95a">initialTick</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initial tick.  <a href="#a2812fa34ba6dc2ef1f1a75a73b0dd95a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#adc12873b6c5585046f38fdb5ef3d0f27">setMaxSteps</a> (unsigned int nSteps) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change maximum number of steps for this tick.  <a href="#adc12873b6c5585046f38fdb5ef3d0f27"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a84d05b64ba45feade7e8d01892beb21e">sleep</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sleep until next tick.  <a href="#a84d05b64ba45feade7e8d01892beb21e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#aa58f65660ed23f663e3124d7d73a0f11">StepClock</a> (rapidxml::xml_node&lt;&gt; const &amp;node)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">XML parsing constructor.  <a href="#aa58f65660ed23f663e3124d7d73a0f11"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#ab71b318fae5a417cd165823211385d70">StepClock</a> (double sleepSeconds, unsigned int stepsPerTick)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ab71b318fae5a417cd165823211385d70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#aeff145fea225d5073d22ce9e8a0807e1">tickDuration</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">tick duration  <a href="#aeff145fea225d5073d22ce9e8a0807e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba0328ec2dfccaf9048c3e873cdc395a"></a><!-- doxytag: member="TREX::agent::StepClock::~StepClock" ref="aba0328ec2dfccaf9048c3e873cdc395a" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#aba0328ec2dfccaf9048c3e873cdc395a">~StepClock</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#af700a1df6b9489e9b7a1ade7ea729abc">sleep</a> (double sleepDuration)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process sleep.  <a href="#af700a1df6b9489e9b7a1ade7ea729abc"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a4588702fda485ba458145b2e6661770d">advanceTick</a> (<a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TREX::transaction::TICK</a> &amp;tick)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">increment tick value  <a href="#a4588702fda485ba458145b2e6661770d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a8e5c8220d013ea86948d2d09faaaecc2">getSleepDelay</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Time left before next tick.  <a href="#a8e5c8220d013ea86948d2d09faaaecc2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a0750debbce1f586b3b93d06dc6ba2582">start</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal start method.  <a href="#a0750debbce1f586b3b93d06dc6ba2582"></a><br/></td></tr>
<tr><td colspan="2"><h2>Related Functions</h2></td></tr>
<tr><td colspan="2"><p>(Note that these are not member functions.) </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dad/classTREX_1_1utils_1_1XmlFactory_1_1declare.html">Clock::xml_factory::declare</a><br class="typebreak"/>
&lt; <a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html">StepClock</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d1f/group__agent.html#ga739aaef7cd7986fd5eab307e152a0feb">decl</a> (&quot;StepClock&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html" title="TREX clock.">Clock</a> XML factor declaration for <a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html" title="Step based pseudo clock.">StepClock</a>.  <a href="../../d4/d1f/group__agent.html#ga739aaef7cd7986fd5eab307e152a0feb"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Step based pseudo clock. </p>
<p>This class implements a TREX clock that advances based on the number of steps used. This number of step can be modified for each tick allowing to reproduce a mission with similar CPU resource as it was during the previous run.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>As this clock is just based on counting steps it is not real-time dependent and can go as fast as the host CPU allows or be paused if needed.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Conor McGann &amp; Frederic Py &lt;<a href="mailto:fpy@mbari.org">fpy@mbari.org</a>&gt; </dd></dl>

<p>Definition at line <a class="el" href="../../d6/db1/StepClock_8hh_source.html#l00035">35</a> of file <a class="el" href="../../d6/db1/StepClock_8hh_source.html">StepClock.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab71b318fae5a417cd165823211385d70"></a><!-- doxytag: member="TREX::agent::StepClock::StepClock" ref="ab71b318fae5a417cd165823211385d70" args="(double sleepSeconds, unsigned int stepsPerTick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StepClock::StepClock </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>sleepSeconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>stepsPerTick</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sleepSeconds</em>&nbsp;</td><td>how long should the process sleep </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stepsPerTick</em>&nbsp;</td><td>default maximum number of steps per tick </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/dba/StepClock_8cc_source.html#l00056">56</a> of file <a class="el" href="../../d3/dba/StepClock_8cc_source.html">StepClock.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa58f65660ed23f663e3124d7d73a0f11"></a><!-- doxytag: member="TREX::agent::StepClock::StepClock" ref="aa58f65660ed23f663e3124d7d73a0f11" args="(rapidxml::xml_node&lt;&gt; const &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StepClock::StepClock </td>
          <td>(</td>
          <td class="paramtype">rapidxml::xml_node&lt;&gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>XML parsing constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>A XML clock definition</td></tr>
  </table>
  </dd>
</dl>
<p>Create a new instance based on the constent of <em>node</em>. The expected structure of node is </p>
<div class="fragment"><pre class="fragment"> &lt;<a class="code" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#ab71b318fae5a417cd165823211385d70" title="Constructor.">StepClock</a> steps=<span class="stringliteral">&quot;&lt;number&gt;&quot;</span>/&gt;
</pre></div><p>where <code>&lt;number&gt;</code> is the default number of steps per tick. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>If the <code>steps</code> attribute is not given its value is set to a default of 50</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="../../df/d3e/classTREX_1_1utils_1_1bad__string__cast.html" title="Bad string cast exception.">TREX::utils::bad_string_cast</a></em>&nbsp;</td><td>unable to parse <code>steps</code> attribute </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/dba/StepClock_8cc_source.html#l00062">62</a> of file <a class="el" href="../../d3/dba/StepClock_8cc_source.html">StepClock.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4588702fda485ba458145b2e6661770d"></a><!-- doxytag: member="TREX::agent::StepClock::advanceTick" ref="a4588702fda485ba458145b2e6661770d" args="(TREX::transaction::TICK &amp;tick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TREX::agent::Clock::advanceTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TREX::transaction::TICK</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>increment tick value </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tick</em>&nbsp;</td><td>A tick variable</td></tr>
  </table>
  </dd>
</dl>
<p>increase the value of <em>tick</em> by 1</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>This method was used for computing extra stats. We need to find a better approach. Specifically it would be relevant to have the tick variable located on this class. </dd></dl>

<p>Referenced by <a class="el" href="../../d3/dba/StepClock_8cc_source.html#l00068">getNextTick()</a>.</p>

</div>
</div>
<a class="anchor" id="af0bf500c9e5a32f2e8908b9a1ef1e06b"></a><!-- doxytag: member="TREX::agent::StepClock::doStart" ref="af0bf500c9e5a32f2e8908b9a1ef1e06b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Clock::doStart </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the clock. </p>
<p>This method is the public interface used to start the clock.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>void <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a0750debbce1f586b3b93d06dc6ba2582" title="Internal start method.">start()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d6e/Clock_8cc_source.html#l00038">38</a> of file <a class="el" href="../../d1/d6e/Clock_8cc_source.html">Clock.cc</a>.</p>

<p>References <a class="el" href="../../de/d89/Clock_8hh_source.html#l00118">TREX::agent::Clock::start()</a>.</p>

<p>Referenced by <a class="el" href="../../d1/d37/Agent_8cc_source.html#l00350">TREX::agent::Agent::initComplete()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../de/d50/classTREX_1_1agent_1_1Clock_af0bf500c9e5a32f2e8908b9a1ef1e06b_cgraph.png" border="0" usemap="#de/d50/classTREX_1_1agent_1_1Clock_af0bf500c9e5a32f2e8908b9a1ef1e06b_cgraph_map" alt=""></div>
<map name="de/d50/classTREX_1_1agent_1_1Clock_af0bf500c9e5a32f2e8908b9a1ef1e06b_cgraph_map" id="de/d50/classTREX_1_1agent_1_1Clock_af0bf500c9e5a32f2e8908b9a1ef1e06b_cgraph">
<area shape="rect" id="node3" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a0750debbce1f586b3b93d06dc6ba2582" title="Internal start method." alt="" coords="271,5,468,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6a0011a9afd69ce9a9939af6271033a"></a><!-- doxytag: member="TREX::agent::StepClock::getNextTick" ref="af6a0011a9afd69ce9a9939af6271033a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TICK StepClock::getNextTick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>get current tick date This method advances the number of steps used in current tick by 1. If this number is greater or equal to the maximum number of steps allowed for this tick, then the tick date is incremented </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>current tick date</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="../../d4/d87/classTREX_1_1agent_1_1StepClock.html#adc12873b6c5585046f38fdb5ef3d0f27" title="Change maximum number of steps for this tick.">setMaxSteps(unsigned int) const</a> </dd></dl>

<p>Implements <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a7650f3e50a6837993cc4f9b4b916b35b">TREX::agent::Clock</a>.</p>

<p>Definition at line <a class="el" href="../../d3/dba/StepClock_8cc_source.html#l00068">68</a> of file <a class="el" href="../../d3/dba/StepClock_8cc_source.html">StepClock.cc</a>.</p>

<p>References <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a4588702fda485ba458145b2e6661770d">TREX::agent::Clock::advanceTick()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../d4/d87/classTREX_1_1agent_1_1StepClock_af6a0011a9afd69ce9a9939af6271033a_cgraph.png" border="0" usemap="#d4/d87/classTREX_1_1agent_1_1StepClock_af6a0011a9afd69ce9a9939af6271033a_cgraph_map" alt=""></div>
<map name="d4/d87/classTREX_1_1agent_1_1StepClock_af6a0011a9afd69ce9a9939af6271033a_cgraph_map" id="d4/d87/classTREX_1_1agent_1_1StepClock_af6a0011a9afd69ce9a9939af6271033a_cgraph">
<area shape="rect" id="node3" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a4588702fda485ba458145b2e6661770d" title="increment tick value" alt="" coords="335,5,580,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e5c8220d013ea86948d2d09faaaecc2"></a><!-- doxytag: member="TREX::agent::StepClock::getSleepDelay" ref="a8e5c8220d013ea86948d2d09faaaecc2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual double TREX::agent::Clock::getSleepDelay </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Time left before next tick. </p>
<p>This method indicates how much time is left before the next tick</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>time left before next tick </dd></dl>

<p>Definition at line <a class="el" href="../../de/d89/Clock_8hh_source.html#l00100">100</a> of file <a class="el" href="../../de/d89/Clock_8hh_source.html">Clock.hh</a>.</p>

<p>Referenced by <a class="el" href="../../d1/d6e/Clock_8cc_source.html#l00050">TREX::agent::Clock::sleep()</a>.</p>

</div>
</div>
<a class="anchor" id="a2812fa34ba6dc2ef1f1a75a73b0dd95a"></a><!-- doxytag: member="TREX::agent::StepClock::initialTick" ref="a2812fa34ba6dc2ef1f1a75a73b0dd95a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TREX::transaction::TICK</a> TREX::agent::Clock::initialTick </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initial tick. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value of the initial tick </dd></dl>

<p>Definition at line <a class="el" href="../../de/d89/Clock_8hh_source.html#l00056">56</a> of file <a class="el" href="../../de/d89/Clock_8hh_source.html">Clock.hh</a>.</p>

</div>
</div>
<a class="anchor" id="adc12873b6c5585046f38fdb5ef3d0f27"></a><!-- doxytag: member="TREX::agent::StepClock::setMaxSteps" ref="adc12873b6c5585046f38fdb5ef3d0f27" args="(unsigned int nSteps) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepClock::setMaxSteps </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nSteps</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change maximum number of steps for this tick. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nSteps</em>&nbsp;</td><td>New maximum number of steps </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>nSteps is greater than 0</dd></dl>
<p>Change the maximum number of steps for current tick to <em>nSteps</em> and reset the number of steps used to 0. </p>

<p>Definition at line <a class="el" href="../../d3/dba/StepClock_8cc_source.html#l00080">80</a> of file <a class="el" href="../../d3/dba/StepClock_8cc_source.html">StepClock.cc</a>.</p>

</div>
</div>
<a class="anchor" id="af700a1df6b9489e9b7a1ade7ea729abc"></a><!-- doxytag: member="TREX::agent::StepClock::sleep" ref="af700a1df6b9489e9b7a1ade7ea729abc" args="(double sleepDuration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Clock::sleep </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>sleepDuration</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process sleep. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sleepDuration</em>&nbsp;</td><td>number of seconds to sleep</td></tr>
  </table>
  </dd>
</dl>
<p>This methods make the calling process to sleep for <em>sleepDuration</em> seconds</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ErrnoExcept</em>&nbsp;</td><td>An error occurred while trying to sleep </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d1/d6e/Clock_8cc_source.html#l00018">18</a> of file <a class="el" href="../../d1/d6e/Clock_8cc_source.html">Clock.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a84d05b64ba45feade7e8d01892beb21e"></a><!-- doxytag: member="TREX::agent::StepClock::sleep" ref="a84d05b64ba45feade7e8d01892beb21e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Clock::sleep </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sleep until next tick. </p>
<p>This method check the time left before next tick and put the process asleep for this duration.</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ErrnoExcept</em>&nbsp;</td><td>An error occurred while trying to sleep</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd>double <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a8e5c8220d013ea86948d2d09faaaecc2" title="Time left before next tick.">getSleepDelay() const</a> </dd>
<dd>
void <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#af700a1df6b9489e9b7a1ade7ea729abc" title="Process sleep.">sleep(double)</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d6e/Clock_8cc_source.html#l00050">50</a> of file <a class="el" href="../../d1/d6e/Clock_8cc_source.html">Clock.cc</a>.</p>

<p>References <a class="el" href="../../de/d89/Clock_8hh_source.html#l00100">TREX::agent::Clock::getSleepDelay()</a>.</p>

<p>Referenced by <a class="el" href="../../d1/d37/Agent_8cc_source.html#l00436">TREX::agent::Agent::doNext()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="../../de/d50/classTREX_1_1agent_1_1Clock_a84d05b64ba45feade7e8d01892beb21e_cgraph.png" border="0" usemap="#de/d50/classTREX_1_1agent_1_1Clock_a84d05b64ba45feade7e8d01892beb21e_cgraph_map" alt=""></div>
<map name="de/d50/classTREX_1_1agent_1_1Clock_a84d05b64ba45feade7e8d01892beb21e_cgraph_map" id="de/d50/classTREX_1_1agent_1_1Clock_a84d05b64ba45feade7e8d01892beb21e_cgraph">
<area shape="rect" id="node3" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#a8e5c8220d013ea86948d2d09faaaecc2" title="Time left before next tick." alt="" coords="253,5,517,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0750debbce1f586b3b93d06dc6ba2582"></a><!-- doxytag: member="TREX::agent::StepClock::start" ref="a0750debbce1f586b3b93d06dc6ba2582" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TREX::agent::Clock::start </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal start method. </p>
<p>This method is called internally by <code>doStart</code> to allow specialized initialization before starting the clock.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>void <a class="el" href="../../de/d50/classTREX_1_1agent_1_1Clock.html#af0bf500c9e5a32f2e8908b9a1ef1e06b" title="Start the clock.">doStart()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../de/d89/Clock_8hh_source.html#l00118">118</a> of file <a class="el" href="../../de/d89/Clock_8hh_source.html">Clock.hh</a>.</p>

<p>Referenced by <a class="el" href="../../d1/d6e/Clock_8cc_source.html#l00038">TREX::agent::Clock::doStart()</a>.</p>

</div>
</div>
<a class="anchor" id="aeff145fea225d5073d22ce9e8a0807e1"></a><!-- doxytag: member="TREX::agent::StepClock::tickDuration" ref="aeff145fea225d5073d22ce9e8a0807e1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual double TREX::agent::Clock::tickDuration </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>tick duration </p>
<p>This methods return the TICK duration. It is expected to be in seconds</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>tick duration </dd></dl>

<p>Reimplemented in <a class="el" href="../../d9/dc0/classTREX_1_1agent_1_1RealTimeClock.html#aa7488ceac61df6d3e1b0569ee2f83643">TREX::agent::RealTimeClock</a>.</p>

<p>Definition at line <a class="el" href="../../de/d89/Clock_8hh_source.html#l00065">65</a> of file <a class="el" href="../../de/d89/Clock_8hh_source.html">Clock.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>trex/agent/<a class="el" href="../../d6/db1/StepClock_8hh_source.html">StepClock.hh</a></li>
<li>trex/agent/<a class="el" href="../../d3/dba/StepClock_8cc_source.html">StepClock.cc</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 8 11:44:17 2011 for trex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>

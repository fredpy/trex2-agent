#include "declarations.nddl"
#include "platform.nddl"
#include "navigator.nddl"
#include "estimator.nddl"
#include "platform.rules.nddl"
#include "navigator.rules.nddl"
#include "estimator.rules.nddl"

EstimatedState estate = new EstimatedState(Observe);
VehicleState vstate = new VehicleState(Observe);
Gps gps = new Gps(Observe);
VehicleCommand command = new VehicleCommand(External);
OperationalLimits oplimits = new OperationalLimits(Observe);
TrexSupervision supervision = new TrexSupervision(Observe, command);

ManeuverController control = new ManeuverController();

Navigator navigator = new Navigator(Internal);//, true);
Estimator estimator = new Estimator(Internal);//,true);

// arg1 -> delay at surface, arg2 -> period between surfaces
SurfaceController surfacer = new SurfaceController([8,12], 300);



close();

fact (control.Idle idle);
idle.start.specify(0);

//rejectable (estimator.At target);
//target.latitude == to_rad(41.185279);
//target.longitude == to_rad(-8.705758);
//target.depth.specify(2);
//target.secs.specify(0);


//rejectable (estimator.At target2);
//target2.latitude == to_rad(41.185808);
//target2.longitude == to_rad(-8.706347);
//target2.depth.specify(2);
//target2.secs.specify(100);

//rejectable (estimator.At surface);
//surface.depth.specify(0);



#include "TREX.nddl"

class Light extends AgentTimeline {
    predicate On {}
    predicate Off {}

    Light(Mode _mode) {
	super(_mode);
    }
}

class Switch extends AgentTimeline {
    predicate Up {}
    predicate Down {}

    Switch(Mode _mode) {
	super(_mode);
    }
}

class Luminance extends AgentTimeline {
    predicate Bright {}
    predicate Dim {}
    
    Luminance(Mode _mode) {
	super(_mode);
    }
}

Luminance::Bright {
    met_by(Light.Off);
    meets(Light.Off);
}

Light::On {
    starts(Switch.Down click);
    precedes(end, click.end);
    contained_by(Luminance.Bright);    
}


Light::Off {
    contained_by(Luminance.Dim);
}

Switch::Up {
    contained_by(Light.Off);
    met_by(Down);
}

Switch::Down {
    met_by(Up);
}


Light light = new Light(Observe);
Switch switch = new Switch(External);

Luminance lum = new Luminance(Internal);

close();
#include "declarations.nddl"
#include "navigator.nddl"
#include "platform.nddl"


SurfaceController::Underwater {

	int speriod;
	subsetOf(speriod, object.surface_period);

	if (requested == true) {
		met_by(Surface surf);
		
		earliest_start == surf.start;
		latest_end <= earliest_start + speriod; 
		latest_end > start;
		
		if (start < AGENT_CLOCK) {
			contains_start(VehicleCommand.Maneuver man);
				man.depth == 0;
				man.start >= latest_end;
		}			
	}
}

VehicleState::Boot {
    contained_by(Navigator.Idle);
}

ManeuverController::Maneuver {
    ends(Navigator.Going go);
    go.start <= start;

    lat_deg == go.latitude;
    lon_deg == go.longitude;
    depth == go.depth;
    speed == go.speed;
    secs == go.secs;
}
<?xml version="1.0"?>

<Agent name="TurtleBot">

  <Plugin name="europa_pg">
    <EuropaReactor name="turtlebot" lookahead="20" latency="5"
		   plan_cfg="turtlebot.delib.xml" 
		   synch_cfg="turtlebot.synch.xml" 
		   model="turtlebot.nddl"
		   all_plans="1" />
  </Plugin>

  <Plugin name="ros_pg">
    <ROSClock millis="500" /> <!-- Let's run this guy at 2Hz -->

    <Plugin name="turtle_pg"/>
    <ROSReactor name="bot_api" latency="1" lookahead="1" verbose="1">
      <Odometry ros_service="/odom" timeline="position" />
      <Twist ros_service="/mobile_base/commands/velocity" timeline="velocity" control="1" />
      <!-- TurtlebotMoveAction ros_service="move_bot" timeline="move" / -->
    </ROSReactor>
  </Plugin>

  <Goal on="move" pred="Go">
    <!-- start only after 10 seconds -->
    <Variable name="start"><int min="10"/></Variable>
    <Variable name="duration"><int min="5" max="15"/></Variable>

    <Variable name="angular_x"><float min="0.2" max="1.0"/></Variable>
    <Variable name="angular_y"><float value="0"/></Variable>
    <Variable name="linear_x"><float min="0.3" max="1.0"/></Variable>
    <Variable name="linear_y"><float value="0"/></Variable>
  </Goal>

</Agent>
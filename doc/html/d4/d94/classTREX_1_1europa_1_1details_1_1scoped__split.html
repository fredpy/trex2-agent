<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>trex: TREX::europa::details::scoped_split Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>TREX</b>::<b>europa</b>::<b>details</b>::<a class="el" href="../../d4/d94/classTREX_1_1europa_1_1details_1_1scoped__split.html">scoped_split</a>
  </div>
</div>
<div class="contents">
<h1>TREX::europa::details::scoped_split Class Reference</h1><!-- doxytag: class="TREX::europa::details::scoped_split" -->
<p>Scoped token split.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/dba/europa__helpers_8hh_source.html">extra/europa/trex/europa/bits/europa_helpers.hh</a>&gt;</code></p>

<p><a href="../../dd/d76/classTREX_1_1europa_1_1details_1_1scoped__split-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EUROPA::TokenId&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d94/classTREX_1_1europa_1_1details_1_1scoped__split.html#abe3a55ba4c5549c9c90486f343e253b5">active</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get active token.  <a href="#abe3a55ba4c5549c9c90486f343e253b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84805fa33a3b308e55a773423d509d01"></a><!-- doxytag: member="TREX::europa::details::scoped_split::operator*" ref="a84805fa33a3b308e55a773423d509d01" args="() const " -->
EUROPA::Token &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator*</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac91b646ad901639144d679ad822ce8da"></a><!-- doxytag: member="TREX::europa::details::scoped_split::operator&#45;&gt;" ref="ac91b646ad901639144d679ad822ce8da" args="() const " -->
EUROPA::Token *&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator-&gt;</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d94/classTREX_1_1europa_1_1details_1_1scoped__split.html#a77c4404137b73771c5b24366c226ff67">scoped_split</a> (EUROPA::TokenId const &amp;token)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a77c4404137b73771c5b24366c226ff67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d94/classTREX_1_1europa_1_1details_1_1scoped__split.html#ac8f1d429a4fc0a620ad6afaa2648f612">~scoped_split</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#ac8f1d429a4fc0a620ad6afaa2648f612"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Scoped token split. </p>
<p>This class allows to split a merged token for its existence scope and merge it back in destruction.</p>
<p>The scopped split is neeced by trex in order to restrict the base domain of the tokens it creates during synchronization that will maintain the state of the reactor. Indeed, europa does not allow to restrict the base domain of the attributes of a merged token (only active or inactive tokens can be minpulated this way). This class avoid such limitation by splitting temproarily a merged token allowing in turn to restrict its base domains.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This is a very "hacky" way to hendle such limitation and should be used only when we are sure that the new restriction of the base domains won't result in an inconsistency. It is really important to check first that the domain is valid by propagating constraints through the plan database.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Frederic Py &lt;<a href="mailto:fpy@mbari.org">fpy@mbari.org</a>&gt; </dd></dl>

<p>Definition at line <a class="el" href="../../d0/dba/europa__helpers_8hh_source.html#l00080">80</a> of file <a class="el" href="../../d0/dba/europa__helpers_8hh_source.html">europa_helpers.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a77c4404137b73771c5b24366c226ff67"></a><!-- doxytag: member="TREX::europa::details::scoped_split::scoped_split" ref="a77c4404137b73771c5b24366c226ff67" args="(EUROPA::TokenId const &amp;token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">details::scoped_split::scoped_split </td>
          <td>(</td>
          <td class="paramtype">EUROPA::TokenId const &amp;&nbsp;</td>
          <td class="paramname"> <em>token</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>token</em>&nbsp;</td><td>a token</td></tr>
  </table>
  </dd>
</dl>
<p>Associates this instance to the token <code>token</code> and split this token if it was merged while storing the token it eas merged to</p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd><code>token</code> is not merged </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d41/europa__helpers_8cc_source.html#l00126">126</a> of file <a class="el" href="../../d3/d41/europa__helpers_8cc_source.html">europa_helpers.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac8f1d429a4fc0a620ad6afaa2648f612"></a><!-- doxytag: member="TREX::europa::details::scoped_split::~scoped_split" ref="ac8f1d429a4fc0a620ad6afaa2648f612" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">details::scoped_split::~scoped_split </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>Destroy this instance while merging the associated token back if it was split during construction. </p>

<p>Definition at line <a class="el" href="../../d3/d41/europa__helpers_8cc_source.html#l00135">135</a> of file <a class="el" href="../../d3/d41/europa__helpers_8cc_source.html">europa_helpers.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abe3a55ba4c5549c9c90486f343e253b5"></a><!-- doxytag: member="TREX::europa::details::scoped_split::active" ref="abe3a55ba4c5549c9c90486f343e253b5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EUROPA::TokenId details::scoped_split::active </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get active token. </p>
<p>This method give access to the "active" token associated to the token we manipulate before the construction.</p>
<p>The returned value will differ from the token we maniu[ulated if and only if the associated token was split during construction.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>It is possible that the "active" token returned is not active. This will be true if the associated token was neither active nor merged before construction </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d41/europa__helpers_8cc_source.html#l00148">148</a> of file <a class="el" href="../../d3/d41/europa__helpers_8cc_source.html">europa_helpers.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>extra/europa/trex/europa/bits/<a class="el" href="../../d0/dba/europa__helpers_8hh_source.html">europa_helpers.hh</a></li>
<li>extra/europa/core/<a class="el" href="../../d3/d41/europa__helpers_8cc_source.html">europa_helpers.cc</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 10 10:29:13 2012 for trex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>

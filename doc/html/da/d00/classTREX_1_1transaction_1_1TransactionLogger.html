<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>trex: TREX::transaction::TransactionLogger Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='../../open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='../../closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='../../closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>TREX</b>::<a class="el" href="../../d3/df8/namespaceTREX_1_1transaction.html">transaction</a>::<a class="el" href="../../da/d00/classTREX_1_1transaction_1_1TransactionLogger.html">TransactionLogger</a>
  </div>
</div>
<div class="contents">
<h1>TREX::transaction::TransactionLogger Class Reference<br/>
<small>
[<a class="el" href="../../db/db4/group__transaction.html">TREX transaction</a>]</small>
</h1><!-- doxytag: class="TREX::transaction::TransactionLogger" -->
<p>Observation/Goal logger.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/de8/TransactionLogger_8hh_source.html">trex/transaction/TransactionLogger.hh</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for TREX::transaction::TransactionLogger:</div>
<div class="dynsection">
<div class="center"><img src="../../d7/dce/classTREX_1_1transaction_1_1TransactionLogger__coll__graph.png" border="0" usemap="#TREX_1_1transaction_1_1TransactionLogger_coll__map" alt="Collaboration graph"/></div>
<map name="TREX_1_1transaction_1_1TransactionLogger_coll__map" id="TREX_1_1transaction_1_1TransactionLogger_coll__map">
<area shape="rect" id="node4" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html" title="generic symbol class" alt="" coords="7,49,348,79"/><area shape="rect" id="node12" href="../../d1/dd0/structTREX_1_1utils_1_1SingletonUse.html" title="TREX::utils::SingletonUse\&lt; TREX::utils::LogManager \&gt;" alt="" coords="1180,152,1569,181"/><area shape="rect" id="node14" href="../../d2/d8b/classTREX_1_1utils_1_1LogManager.html" title="Centralized logging and files management." alt="" coords="491,165,677,195"/><area shape="rect" id="node16" title="STL class." alt="" coords="1317,205,1432,235"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>

<p><a href="../../d0/da5/classTREX_1_1transaction_1_1TransactionLogger-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d00/classTREX_1_1transaction_1_1TransactionLogger.html#a50f9275c38b0883b22f9d56040cf0266">declExternal</a> (<a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;timeline, <a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;owner)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">External timeline declaration.  <a href="#a50f9275c38b0883b22f9d56040cf0266"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d00/classTREX_1_1transaction_1_1TransactionLogger.html#acf8c28f5956f8c3840de8147fb09f129">declInternal</a> (<a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;timeline, <a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;owner)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal timeline declaration.  <a href="#acf8c28f5956f8c3840de8147fb09f129"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fa0bb9f7fa4b8f459b10a0217d53e0d"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::endFile" ref="a0fa0bb9f7fa4b8f459b10a0217d53e0d" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>endFile</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9f212f1d23b34909d6bffa0cfcf9375"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::endHeader" ref="ac9f212f1d23b34909d6bffa0cfcf9375" args="(TICK init, std::string const &amp;fileName)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>endHeader</b> (<a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TICK</a> init, std::string const &amp;fileName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fe76946fb804b9c77d5e8795e6da979"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::logObservation" ref="a2fe76946fb804b9c77d5e8795e6da979" args="(Observation const &amp;obs)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>logObservation</b> (<a class="el" href="../../de/d8d/classTREX_1_1transaction_1_1Observation.html">Observation</a> const &amp;obs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a112dbae812cd661b1ce51bb6d8ac47"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::logRecall" ref="a6a112dbae812cd661b1ce51bb6d8ac47" args="(TREX::utils::Symbol const &amp;reactor, goal_id const &amp;goal)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>logRecall</b> (<a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;reactor, <a class="el" href="../../db/db4/group__transaction.html#ga12f8cf7d56f88a24ecf3be17dca87d45">goal_id</a> const &amp;goal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2bce9dc815299f65c642deb60a14512"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::logRequest" ref="af2bce9dc815299f65c642deb60a14512" args="(TREX::utils::Symbol const &amp;reactor, goal_id const &amp;goal)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>logRequest</b> (<a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;reactor, <a class="el" href="../../db/db4/group__transaction.html#ga12f8cf7d56f88a24ecf3be17dca87d45">goal_id</a> const &amp;goal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae58e3b6043c0586191f884945fec924a"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::newTick" ref="ae58e3b6043c0586191f884945fec924a" args="(TICK value)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>newTick</b> (<a class="el" href="../../db/db4/group__transaction.html#ga71ccb7c46d43d3d538c401886b341ada">TICK</a> value)</td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dba31780e1bf00ad895a7c155c2394d"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::TREX::utils::SingletonWrapper&lt; TransactionLogger &gt;" ref="a7dba31780e1bf00ad895a7c155c2394d" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d00/classTREX_1_1transaction_1_1TransactionLogger.html#a7dba31780e1bf00ad895a7c155c2394d">TREX::utils::SingletonWrapper&lt; TransactionLogger &gt;</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Observation/Goal logger. </p>
<p>This class is used to log the transactions of reactors. The transactions of a reactor are the observations produced and goals requests and recalls this reactor did produce during its lifetime.</p>
<p>This class is used to capture and serialize such transactions in as gfile so they can be replayed for potential degbugging</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Since TREX maintain the dependency graph between reactor this class may have to change slightly in order to be more adapted to the new internal structure of an agent. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000008">Deprecated:</a></b></dt><dd>This implemntation was assuming that the reactor relation were static and decided before starting the agent execution. This will become an invalid asumption as we allow to have the reactor graph being modified dynamically.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Frederic Py &lt;<a href="mailto:fpy@mbari.org">fpy@mbari.org</a>&gt;</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>class <a class="el" href="../../d2/dbc/classTREX_1_1transaction_1_1LogPlayer.html">LogPlayer</a> </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000009">Deprecated:</a></b></dt><dd>Due to recent changes in the code the <a class="el" href="../../da/d00/classTREX_1_1transaction_1_1TransactionLogger.html" title="Observation/Goal logger.">TransactionLogger</a> needs a serious rework in order to truely support the new dynamic reactor management. It has been deactivated for now until fully compatible. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/de8/TransactionLogger_8hh_source.html#l00048">48</a> of file <a class="el" href="../../d0/de8/TransactionLogger_8hh_source.html">TransactionLogger.hh</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a50f9275c38b0883b22f9d56040cf0266"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::declExternal" ref="a50f9275c38b0883b22f9d56040cf0266" args="(TREX::utils::Symbol const &amp;timeline, TREX::utils::Symbol const &amp;owner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TransactionLogger::declExternal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>timeline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>owner</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>External timeline declaration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeline</em>&nbsp;</td><td>A timeline name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>owner</em>&nbsp;</td><td>A reactor name</td></tr>
  </table>
  </dd>
</dl>
<p>Notifies this instance that the reactor <code>owner</code> has declared the <code>timeline</code> as <em>External</em> </p>

<p>Definition at line <a class="el" href="../../d3/d0c/TransactionLogger_8cc_source.html#l00056">56</a> of file <a class="el" href="../../d3/d0c/TransactionLogger_8cc_source.html">TransactionLogger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acf8c28f5956f8c3840de8147fb09f129"></a><!-- doxytag: member="TREX::transaction::TransactionLogger::declInternal" ref="acf8c28f5956f8c3840de8147fb09f129" args="(TREX::utils::Symbol const &amp;timeline, TREX::utils::Symbol const &amp;owner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TransactionLogger::declInternal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>timeline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/de0/classTREX_1_1utils_1_1BasicSymbol.html">TREX::utils::Symbol</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>owner</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal timeline declaration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeline</em>&nbsp;</td><td>A timeline name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>owner</em>&nbsp;</td><td>A reactor name</td></tr>
  </table>
  </dd>
</dl>
<p>Notifies this instance that the reactor <code>owner</code> has declared the <code>timeline</code> as <em>Internal</em>. </p>

<p>Definition at line <a class="el" href="../../d3/d0c/TransactionLogger_8cc_source.html#l00045">45</a> of file <a class="el" href="../../d3/d0c/TransactionLogger_8cc_source.html">TransactionLogger.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>trex/transaction/<a class="el" href="../../d0/de8/TransactionLogger_8hh_source.html">TransactionLogger.hh</a></li>
<li>trex/transaction/<a class="el" href="../../d3/d0c/TransactionLogger_8cc_source.html">TransactionLogger.cc</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 8 11:44:18 2011 for trex by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
